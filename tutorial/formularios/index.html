<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Formularios - DBAX</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Formularios";
    var mkdocs_page_input_path = "tutorial\formularios.md";
    var mkdocs_page_url = "/tutorial/formularios/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> DBAX</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Índice</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../welcome/">Bienvenido a DBAX</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../why/">¿Por qué DBAX?</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Introdcción</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/empezando/">Empezando</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/a-simple-vista/">DBAX a simple vista</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/funciones-soportadas/">Funciones soportadas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/arquitectura/">Arquitectura DBAX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/diagrama-flujo/">Diagrama de flujo</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/mvc/">Model-Vista-Controlador</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/buenas-practivas-mvc/">Buenas prácticas MVC</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/conceptos-aplicaciones/">Conceptos aplicaciones</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../intro/objetivos-arquitectura/">Objetivos de arquitectura</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Instalación</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/descarga/">Descargar DBAX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../install/install/">Instrucciones de instalación</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tutorial</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../que-necesito/">¿Que necesito?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../primera-pagina/">Su primera página</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../util/">Algo util</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Formularios</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Aplicación básica noticias</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../app/paginas-estaticas/">Páginas estáticas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../app/noticias/">Sección noticias</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../app/crear-noticia/">Crear noticia</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../app/conclusion/">Conclusión</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Consola Web</span></li>

        
            
    <ul class="subnav">
    <li><span>Aplicaciones</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../console/apps/">Aplicaciones</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../console/nueva-app/">Crear aplicación</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../console/ajustes/">Ajustes</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../console/seguridad/">Seguridad</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../console/monit/">Monitorización</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Temas Generales</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/urls/">DBAX URLs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/controladores/">Controladores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/vistas/">Vistas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/modelos/">Modelos</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/enrutado/">Enrutado URI</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/excepciones/">Gestión de Excepciones</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../general/seguridad/">Seguridad</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Referencias del lenguaje</span></li>

        
            
    <ul class="subnav">
    <li><span>Sintaxis básica</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/syntax/etiquetas-dbax/">Etiquetas de DBAX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/syntax/salir-html/">Salir de HTML</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/syntax/separar-instrucciones/">Separación de instrucciones</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/syntax/comentarios/">Comentarios</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Variables</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/variables/basico/">Conceptos básicos</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/variables/predefinidas/">Variables Predefinidas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/variables/ambito/">Ámbito de las variables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/variables/externas/">Variables desde fuentes externas</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Variables predefinidas</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/reserved/dbax_core/">dbax_core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/reserved/dbax_cookie/">dbax_cookie</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/reserved/dbax_exception/">dbax_exception</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/reserved/dbax_session/">dbax_session</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Referencia APIs</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_cookie/">DBAX_COOKIE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_core/">DBAX_CORE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_datatable/">DBAX_DATATABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_document/">DBAX_DOCUMENT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_exception/">DBAX_EXCEPTION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_file_parser/">DBAX_FILE_PARSER</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_ldap/">DBAX_LDAP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_log/">DBAX_LOG</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_security/">DBAX_SECURITY</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_session/">DBAX_SESSION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/dbax_utils/">DBAX_UTILS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/json_util/">JSON_UTIL</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../api/xlsx_builder/">XLSX_BUILDER</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">DBAX</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Tutorial &raquo;</li>
        
      
    
    <li>Formularios</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p class="page-header1"><b>Trabajar con Formularios</b></p>

<p>Otra de las características más potentes de DBAX es la forma de gestionar formularios HTML. El concepto básico que es importante entender es que cualquier elemento de un formulario estará disponible automáticamente en sus scripts de DBAX.</p>
<h4 id="ejemplo-un-formulario-html-sencillo">Ejemplo Un formulario HTML sencillo<a class="headerlink" href="#ejemplo-un-formulario-html-sencillo" title="Permanent link">&para;</a></h4>
<pre><code class="html">&lt;form action=&quot;${base_path}/mundo&quot; method=&quot;post&quot;&gt;
 &lt;p&gt;Su nombre: &lt;input type=&quot;text&quot; name=&quot;nombre&quot; /&gt;&lt;/p&gt;
 &lt;p&gt;Su edad: &lt;input type=&quot;text&quot; name=&quot;edad&quot; /&gt;&lt;/p&gt;
 &lt;p&gt;&lt;input type=&quot;submit&quot; /&gt;&lt;/p&gt;
&lt;/form&gt;
</code></pre>

<p>Tan solo tenemos algo especial en este formulario que es la variable <code>${base_path}</code>, se trata de una varibale de sustitución sobre código HTML que se define a nivel de propiedad en la aplicación y que referencia a la url base de la aplicación. En el apartado de Ajustes -&gt; Propiedades podrá encontrar más información al respecto.</p>
<p>Por lo demás, este código es solamente un formulario HTML sin ninguna clase de etiqueta especial. Cuando el usuario rellena este formulario y oprime el botón de envío, se llama a la página <code>${base_path}/mundo</code>. En esta URL se podría escribir algo así:</p>
<h4 id="ejemplo-mostrar-informacion-de-nuestro-formulario">Ejemplo Mostrar información de nuestro formulario<a class="headerlink" href="#ejemplo-mostrar-informacion-de-nuestro-formulario" title="Permanent link">&para;</a></h4>
<pre><code>Hola &lt;?dbax p(dbax_core.g$post('nombre')); ?&gt;.
Usted tiene &lt;?dbax p(to_number(dbax_core.g$post('edad'))); ?&gt; años.
</code></pre>
<p>Un ejemplo del resultado de este script podría ser:</p>
<pre><code>Hola José. Usted tiene 22 años.
</code></pre>
<p>Debería ser obvio qué es lo que hace el código. El campo edad, ya que sabemos que es un número, podemos convertirlo a un valor de tipo <code>NUMBER</code>. Las variables <code>dbax_core.g$post('nombre'))</code> y <code>dbax_core.g$post('edad'))</code> son establecidas automáticamente por DBAX. Anteriormente hemos usado la superglobal <code>dbax_core.g$server</code> ahora hemos usado la superglobal <code>dbax_core.g$post</code>, la cual contiene todos los datos de POST. Observe que el método de nuestro formulario es POST. </p>
<h4 id="mejorando-el-codigo">Mejorando el código<a class="headerlink" href="#mejorando-el-codigo" title="Permanent link">&para;</a></h4>
<p>Si ha intentado ejecutar este código, verá que si accedemos a las variables <code>dbax_core.g$post('nombre')</code> y <code>dbax_core.g$post('edad'))</code> sin que tengan datos, DBAX nos imprimirá por pantalla el siguiente error: </p>
<pre><code class="html">DBAX Inline Runtime Error 

SQLERRM

ORA-01403: no data found
ORA-01403: no data found

Before this sentence [BEGIN htp.prn(''); /*Your code star...] (1) 

SQL Statement 

BEGIN htp.prn('&lt;!-- DBAX interpreter --&gt;'); /*Your code starts here*/ p(dbax_core.g$post('nombre')); END;
Error BackTrace 

ORA-06512: at line 1
ORA-06512: at &quot;DBAX.DBAX_CORE&quot;, line 922
</code></pre>

<p>Lo que nos indica que la variable <code>dbax_core.g$post('nombre')</code> no tiene contenido. Para solcionar esto sin tener que rescribir demasiado nuestro código, haremos uso de la libreria <code>dbax_utis</code> el procedimiento <code>get</code>.</p>
<pre><code>   Hola &lt;?dbax p(dbax_utils.get(dbax_core.g$post,'nombre')); ?&gt;.
   Usted tiene &lt;?dbax p(to_number(dbax_utils.get(dbax_core.g$post,'edad'))); ?&gt; años.
</code></pre>
<p><code>dbax_utils.get</code> recibe como primer parámetro un array y como segundo parámetro el elemento que queremos recuperar del array. Si el elemento no se ecuentra devuelve NULL. De esta forma, no nos dará error si los valores no existen. </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../app/paginas-estaticas/" class="btn btn-neutral float-right" title="Páginas estáticas">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../util/" class="btn btn-neutral" title="Algo util"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  <p>© dbax.io 2014 - 2016. Last updated on Feb 8, 2016.</p>
  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../util/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../app/paginas-estaticas/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
