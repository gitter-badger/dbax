<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Sección noticias - DBAX</title>
  

  <link rel="shortcut icon" href="../../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  <link href="../../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Sección noticias";
    var mkdocs_page_input_path = "tutorial\app\noticias.md";
    var mkdocs_page_url = "/tutorial/app/noticias/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script>
  <script src="../../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> DBAX</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../..">Índice</a>
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../../welcome/">Bienvenido a DBAX</a>
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../../why/">¿Por qué DBAX?</a>
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Introdcción</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/empezando/">Empezando</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/a-simple-vista/">DBAX a simple vista</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/funciones-soportadas/">Funciones soportadas</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/arquitectura/">Arquitectura DBAX</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/diagrama-flujo/">Diagrama de flujo</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/mvc/">Model-Vista-Controlador</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/buenas-practivas-mvc/">Buenas prácticas MVC</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/conceptos-aplicaciones/">Conceptos aplicaciones</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../intro/objetivos-arquitectura/">Objetivos de arquitectura</a>
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Instalación</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../install/descarga/">Descargar DBAX</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../install/install/">Instrucciones de instalación</a>
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tutorial</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../que-necesito/">¿Que necesito?</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../primera-pagina/">Su primera página</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../util/">Algo util</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../formularios/">Formularios</a>
    </li>

        
            
    <ul class="subnav">
    <li><span>Aplicación básica noticias</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../crear-aplicacion/">Crear aplicación</a>
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Sección noticias</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../crear-noticia/">Crear noticia</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../conclusion/">Conclusión</a>
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Consola Web</span></li>

        
            
    <ul class="subnav">
    <li><span>Aplicaciones</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../console/apps/">Aplicaciones</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../console/nueva-app/">Crear aplicación</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../console/ajustes/">Ajustes</a>
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../console/seguridad/">Seguridad</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../console/monit/">Monitorización</a>
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Temas Generales</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/urls/">DBAX URLs</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/controladores/">Controladores</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/vistas/">Vistas</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/modelos/">Modelos</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/enrutado/">Enrutado URI</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/excepciones/">Gestión de Excepciones</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../general/seguridad/">Seguridad</a>
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Referencias del lenguaje</span></li>

        
            
    <ul class="subnav">
    <li><span>Sintaxis básica</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/syntax/etiquetas-dbax/">Etiquetas de DBAX</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/syntax/salir-html/">Salir de HTML</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/syntax/separar-instrucciones/">Separación de instrucciones</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/syntax/comentarios/">Comentarios</a>
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Variables</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/variables/basico/">Conceptos básicos</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/variables/predefinidas/">Variables Predefinidas</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/variables/ambito/">Ámbito de las variables</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/variables/externas/">Variables desde fuentes externas</a>
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Variables predefinidas</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/reserved/dbax_core/">dbax_core</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/reserved/dbax_cookie/">dbax_cookie</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/reserved/dbax_exception/">dbax_exception</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../reference/reserved/dbax_session/">dbax_session</a>
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Referencia APIs</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_cookie/">DBAX_COOKIE</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_core/">DBAX_CORE</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_datatable/">DBAX_DATATABLE</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_document/">DBAX_DOCUMENT</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_exception/">DBAX_EXCEPTION</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_file_parser/">DBAX_FILE_PARSER</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_ldap/">DBAX_LDAP</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_log/">DBAX_LOG</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_security/">DBAX_SECURITY</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_session/">DBAX_SESSION</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/dbax_utils/">DBAX_UTILS</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/json_util/">JSON_UTIL</a>
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../api/xlsx_builder/">XLSX_BUILDER</a>
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">DBAX</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Tutorial &raquo;</li>
        
      
        
          <li>Aplicación básica noticias &raquo;</li>
        
      
    
    <li>Sección noticias</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p class="page-header1"><b>Seccion de noticias</b></p>

<h2 id="creacion-del-su-modelo">Creación del su modelo<a class="headerlink" href="#creacion-del-su-modelo" title="Permanent link">&para;</a></h2>
<p>En lugar de escribir las operaciones de base de datos correcta en el controlador, las consultas deben ser colocados en un modelo, para que puedan ser fácilmente reutilizados más tarde. Los modelos son el lugar en el que recuperar, insertar y actualizar la información en su base de datos u otros almacenes de datos. Representan sus datos.</p>
<p>Lo primero que haremos será crear la tabla de noticias que contendrá nuestras noticias: </p>
<pre><code class="sql">CREATE TABLE news
  (
    id    NUMBER(11) NOT NULL,
    title VARCHAR(128) NOT NULL,
    text CLOB NOT NULL
  );

CREATE UNIQUE INDEX news_PK ON news
  (
    id
  );
ALTER TABLE news ADD ( CONSTRAINT news_PK PRIMARY KEY (id));
</code></pre>

<p>Ahora podremos crear un modelo por ejemplo, haciendo uso de <code>tapiGen2</code></p>
<pre><code class="sql">EXEC tapi_gen2.create_tapi_package (p_table_name =&gt; 'news', p_compile_table_api =&gt; TRUE);
</code></pre>

<h2 id="mostrar-las-noticias">Mostrar las noticias<a class="headerlink" href="#mostrar-las-noticias" title="Permanent link">&para;</a></h2>
<p>Ahora que que tenemos el modelo creado, donde se consulta la tabla de noticias, debemos vincular su contenido y enviarlo a las vistas. Lo que haremos será crear un nuevo procedimiento en nuestro controlador. </p>
<p>Crearemos un controlador que cargue la vista para mostrar las noticias. </p>
<pre><code class="plsql">  PROCEDURE mostrar
  AS
  BEGIN
    dbax_core.g$view('id') := dbax_core.g$parameter(1);
    dbax_core.load_view('blank');
  END;  
</code></pre>

<p>Dentro de la vista, haremos referencia a nuestro controlador pintando una tabla para ello</p>
<pre><code class="html">&lt;table class=&quot;datatable table table-striped table-bordered&quot;&gt;
   &lt;thead&gt;
      &lt;tr&gt;
         &lt;th&gt;ID Noticia&lt;/th&gt;
         &lt;th&gt;Titulo&lt;/th&gt;
         &lt;th&gt;Texto&lt;/th&gt;
      &lt;/tr&gt;
   &lt;/thead&gt;
   &lt;tbody&gt;
      &lt;?dbax
         FOR c1 IN (select * from table (tapi_news.tt(${id})))
         LOOP                                            
           p('&lt;tr&gt;');                                     
                p('&lt;td&gt;'|| c1.id ||'&lt;/td&gt;');
                p('&lt;td&gt;'|| c1.title ||'&lt;/td&gt;');
                p('&lt;td&gt;'|| c1.text ||'&lt;/td&gt;');
            p('&lt;/tr&gt;');                      
         END LOOP;
         ?&gt;
   &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>

<p>Modificaremos el enrutado: </p>
<pre><code>basic   pk_c_dbax_NOTICIAS.mostrar
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../crear-noticia/" class="btn btn-neutral float-right" title="Crear noticia">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../crear-aplicacion/" class="btn btn-neutral" title="Crear aplicación"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../crear-aplicacion/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../crear-noticia/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
